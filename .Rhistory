library (rtweet)
api_key <- 'K5eQnPK2KeZ0epabkQb3vULR4'
api_secret_key <- 'JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB'
access_token <- '759289046-nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn'
access_token_secret <- 'PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw'
setup_twitter_oauth(api_key,api_secret_key,access_token,access_token_secret)
twittwer_token <- create_token(
api_key <- 'K5eQnPK2KeZ0epabkQb3vULR4'
api_secret_key <- 'JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB'
access_token <- '759289046-nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn'
access_token_secret <- 'PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw'
set_renv = TRUE)
twittwer_token <- create_token(
api_key = K5eQnPK2KeZ0epabkQb3vULR4,
api_secret_key = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046-nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_token_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE)
?create_token
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046-nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE)
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE)
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE)
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE)
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE)
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE
)
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046-nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE
)
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE
)
create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE
)
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE
)
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE
twittwer_token <- create_token(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE
(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE
)
twittwer_token <- create_token
(app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw)
twittwer_token <- create_token
(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE,
auth_as(auth)
)
twittwer_token <- create_token
(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE,
auth_as(auth)
)
twittwer_token <- create_token
(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw
set_renv = TRUE,
auth_as(auth)
)
View(twittwer_token)
function (app = "mytwitterapp", consumer_key = NULL, consumer_secret = NULL,
access_token = NULL, access_secret = NULL, set_renv = TRUE)
{
lifecycle::deprecate_warn(when = "1.0.0", what = "create_token()",
details = "See vignette('auth') for details")
if (!is.null(access_token) && !is.null(access_secret)) {
token <- rtweet_bot(consumer_key, consumer_secret, access_token,
access_secret)
}
else {
token <- rtweet_user(consumer_key, consumer_secret)
}
if (set_renv) {
auth_save(token, "create_token")
}
auth_as(token)
invisible(token)
}
create_token (app = "BatomTextMining", consumer_key = K5eQnPK2KeZ0epabkQb3vULR4, consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn, access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw, set_renv = TRUE)
create_token (app = "BatomTextMining", consumer_key = K5eQnPK2KeZ0epabkQb3vULR4, consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046-nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn, access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw, set_renv = TRUE)
create_token (app = "BatomTextMining", consumer_key = K5eQnPK2KeZ0epabkQb3vULR4, consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn, access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw, set_renv = TRUE)
View(twittwer_token)
climate <- search_tweets(“climate”, n=1000, include_rts=FALSE, lang=”en”)
climate <- search_tweets("climate", n=1000, include_rts=FALSE, lang="en")
View(climate)
rm(climate)
(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw
set_renv = TRUE)
twitter_token <- create_token
(
app = "BatomTextMining",
consumer_key = K5eQnPK2KeZ0epabkQb3vULR4,
consumer_secret = JchErQssN83vgQCi7QKThjMSmJ6GodRwhRo7dSxb5UrBbh9pEB,
access_token = 759289046nizOlzokkJb9tg7N7Ionv6U2jllw7rPj0R6nOzEn,
access_secret = PNPJGy8aOh9bT5TAVtuaDgwTTxL47h9yHIUMWgp5s9Xzw,
set_renv = TRUE)
rm(twittwer_token())
P_Obi <- get_timeline("@PeterObi", n=3000)
#Removing retweets
P_Obi_organic <- P_Obi[P_Obi$is_retweet==FALSE,]
View(P_Obi)
#Removing retweets
P_Obi_organic <- P_Obi[P_Obi$retweeted==FALSE,]
#Removing replies
P_Obi_organic <- subset(P_Obi_organic, is.na(P_Obi_organic$in_reply_to_status_id))
P_Obi_organic <- P_Obi_organic %>% arrange(-retweet_count)
P_Obi_organic[1,5]
P_Obi_organic <- P_Obi_organic %>% arrange(-favorite_count)
P_Obi_organic[1,5]
library(tidyverse)
P_Obi_organic <- P_Obi_organic %>% arrange(-retweet_count)
P_Obi_organic[1,5]
P_Obi_organic <- P_Obi_organic %>% arrange(-favorite_count)
P_Obi_organic[1,5]
View(P_Obi_organic)
View(P_Obi_organic)
P_Obi.df <- data.frame(P_Obi_organic)
View(P_Obi.df)
write.csv(P_Obi.df, "C:\Users\dell\Desktop\P_Obi.csv",row.names= TRUE)
?write_csv
write.csv(P_Obi.df, "C:/Users/dell/Desktop//P_Obi.csv",row.names= TRUE)
getwd()
write.csv(P_Obi.df, "C:/Users/dell/Desktop/P_Obi.csv")
write.csv(P_Obi.df, "C:/Users/dell/Desktop/P_Obi.csv")
View(P_Obi.df)
write.csv(P_Obi.df, "C:/Users/dell/Desktop/P_Obi.csv")
# First coerce the data.frame to all-character
P_Obi.df = data.frame(lapply(P_Obi.df, as.character), stringsAsFactors=FALSE)
# write file
write.csv(P_Obi.df,"tx.csv")
# write file
write.csv(P_Obi.df,"tx.csv")
View(P_Obi.df)
# Keeping only the retweets
P_Obi_retweets <- P_Obi[P_Obi$retweeted==TRUE,]
# Keeping only the replies
P_Obi_replies <- subset(P_Obi, !is.na(P_Obi$reply_to_status_id))
# Keeping only the replies
P_Obi_replies <- subset(P_Obi, !is.na(P_Obi$in_reply_to_status_id))
###########################################################################
library(TSstudio)
colnames(P_Obi)[colnames(P_Obi)=="screen_name"] <- "Twitter_Account"
ts_plot(dplyr::group_by(P_Obi, Twitter_Account), "year") +
ggplot2::theme_minimal() +
ggplot2::theme(plot.title = ggplot2::element_text(face = "bold")) +
ggplot2::labs(
x = NULL, y = NULL,
title = "Frequency of Tweets from Peter Obi",
subtitle = "Tweet counts aggregated by year",
caption = "\nSource: Data collected from Twitter's REST API via rtweet
colnames(P_Obi)[colnames(P_Obi)=="screen_name"] <- "Twitter_Account"
ts_plot(dplyr::group_by(P_Obi, Twitter_Account), "year") +
ggplot2::theme_minimal() +
ggplot2::theme(plot.title = ggplot2::element_text(face = "bold")) +
ggplot2::labs(
x = NULL, y = NULL,
title = "Frequency of Tweets from Peter Obi",
subtitle = "Tweet counts aggregated by year",
caption = "\nSource: Data collected from Twitter's REST API via rtweet"
)
colnames(P_Obi)[colnames(P_Obi)=="screen_name"] <- "Twitter_Account"
colnames(P_Obi)[colnames(P_Obi)=="screen_name"] <- "Twitter_Account"
P_Obi_organic$text <-  gsub("https\\S*", "", P_Obi_organic$text)
P_Obi_organic$text <-  gsub("@\\S*", "", P_Obi_organic$text)
P_Obi_organic$text  <-  gsub("amp", "", P_Obi_organic$text)
P_Obi_organic$text  <-  gsub("[\r\n]", "", P_Obi_organic$text)
P_Obi_organic$text  <-  gsub("[[:punct:]]", "", P_Obi_organic$text)
tweets <- P_Obi_organic %>%
select(text) %>%
unnest_tokens(word, text)
library(tidytext)
tweets <- P_Obi_organic %>%
select(text) %>%
unnest_tokens(word, text)
tweets <- tweets %>%
anti_join(stop_words)
tweets %>% # gives you a bar chart of the most frequent words found in the tweets
count(word, sort = TRUE) %>%
top_n(15) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(x = word, y = n)) +
geom_col() +
xlab(NULL) +
coord_flip() +
labs(y = "Count",
x = "Unique words",
title = "Most frequent words found in the tweets of Bill Gates",
subtitle = "Stop words removed from the list")
mystopwords <- c("po","rt","nigerian")
mystopwords <-data.frame(mystopwords)
colnames(mystopwords)<-c("word")
tweets <- tweets %>%
anti_join(mystopwords)
tweets %>% # gives you a bar chart of the most frequent words found in the tweets
count(word, sort = TRUE) %>%
top_n(15) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(x = word, y = n)) +
geom_col() +
xlab(NULL) +
coord_flip() +
labs(y = "Count",
x = "Unique words",
title = "Most frequent words found in Peter Obi's tweets",
subtitle = "Stop words removed from the list")
tweets %>% # gives you a bar chart of the most frequent words found in the tweets
count(word, sort = TRUE) %>%
top_n(20) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(x = word, y = n)) +
geom_col() +
xlab(NULL) +
coord_flip() +
labs(y = "Count",
x = "Unique words",
title = "Most frequent words found in Peter Obi's tweets",
subtitle = "Stop words removed from the list")
tweets %>% # gives you a bar chart of the most frequent words found in the tweets
count(word, sort = TRUE) %>%
top_n(15) %>%
mutate(word = reorder(word, n)) %>%
ggplot(aes(x = word, y = n)) +
geom_col() +
xlab(NULL) +
coord_flip() +
labs(y = "Count",
x = "Unique words",
title = "Most frequent words found in Peter Obi's tweets",
subtitle = "Stop words removed from the list")
library(syuzhet)
# Converting tweets to ASCII to trackle strange characters
tweets <- iconv(tweets, from="UTF-8", to="ASCII", sub="")
# removing retweets, in case needed
tweets <-gsub("(RT|via)((?:\\b\\w*@\\w+)+)","",tweets)
# removing mentions, in case needed
tweets <-gsub("@\\w+","",tweets)
ew_sentiment<-get_nrc_sentiment((tweets))
sentimentscores<-data.frame(colSums(ew_sentiment[,]))
names(sentimentscores) <- "Score"
sentimentscores <- cbind("sentiment"=rownames(sentimentscores),sentimentscores)
rownames(sentimentscores) <- NULL
ggplot(data=sentimentscores,aes(x=sentiment,y=Score))+
geom_bar(aes(fill=sentiment),stat = "identity")+
theme(legend.position="none")+
xlab("Sentiments")+ylab("Scores")+
ggtitle("Total sentiment based on scores")+
theme_minimal()
library(syuzhet)
# Converting tweets to ASCII to trackle strange characters
tweets <- iconv(tweets, from="UTF-8", to="ASCII", sub="")
# removing retweets, in case needed
tweets <-gsub("(RT|via)((?:\\b\\w*@\\w+)+)","",tweets)
# removing mentions, in case needed
tweets <-gsub("@\\w+","",tweets)
ew_sentiment<-get_nrc_sentiment((tweets))
sentimentscores<-data.frame(colSums(ew_sentiment[,]))
names(sentimentscores) <- "Score"
sentimentscores <- cbind("sentiment"=rownames(sentimentscores),sentimentscores)
rownames(sentimentscores) <- NULL
ggplot(data=sentimentscores,aes(x=sentiment,y=Score))+
geom_bar(aes(fill=sentiment),stat = "identity")+
theme(legend.position="none")+
xlab("Sentiments")+ylab("Scores")+
ggtitle("Peter Obi's tweet sentiments based on scores")+
theme_minimal()
library (rtweet)
library(tidyverse)
library(RColorBrewer)
###########################################################################
library(TSstudio)
library(tidytext)
library(syuzhet)
P_Obi_organic$hashtags <- as.character(P_Obi_organic$entities)
P_Obi_organic$entities <- gsub("c\\(", "", P_Obi_organic$entities)
set.seed(1234)
wordcloud(P_Obi_organic$entities, min.freq=5, scale=c(3.5, .5), random.order=FALSE, rot.per=0.35,
colors=brewer.pal(8, "Dark2"))
library(wordcloud)
wordcloud(P_Obi_organic$entities, min.freq=5, scale=c(3.5, .5), random.order=FALSE, rot.per=0.35,
colors=brewer.pal(8, "Dark2"))
